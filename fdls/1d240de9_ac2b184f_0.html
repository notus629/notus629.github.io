<html><head></head>
<body>

<div><br></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="font-family: 'Times New Roman'; "><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="font-family: 'Times New Roman'; "><div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><b>查询数据的几种方法</b></font></div></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; get()</font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; first()</font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; where()</font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; pluck()</font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; lists()</font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; select()</font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; chunk()</font></div></span></font><div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="font-family: 'Times New Roman'; "><div><font class="Apple-style-span" face="Consolas"><br></font></div></span></font></div></div></div></span></font><div><div><div><div><div><div><div><font class="Apple-style-span" face="Consolas"><br></font></div></div></div></div><div><font class="Apple-style-span" face="Consolas"><div style="font-family: 'Times New Roman'; "><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><b>get()</b></font></div></div><div style="font-family: 'Times New Roman'; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: 'Times New Roman'; "><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; // 返回所有数据</font></div><div>&nbsp; &nbsp; $students = DB::table('student')-&gt;<font class="Apple-style-span" color="#ff0000"><b>get</b></font>();</div><div><br></div><div><br></div><div><br></div><div><b>first()</b></div><div><br></div><div>&nbsp; &nbsp; // 返回结果集中的第一条记录</div><div>&nbsp; &nbsp; $student = DB::table('student')-&gt;<font class="Apple-style-span" color="#ff0000"><b>first</b></font>();</div><div><br></div><div>&nbsp; &nbsp; // 排序后取第一行记录</div><div>&nbsp; &nbsp; $student = DB::table('student')</div><div>&nbsp; &nbsp; &nbsp; &nbsp; -&gt;<font class="Apple-style-span" color="#ff0000"><b>orderBy</b></font>('id', 'desc')</div><div>&nbsp; &nbsp; &nbsp; &nbsp; -&gt;first();</div></font></div></div></div></div><div><font class="Apple-style-span" face="Consolas"><div style="font-family: 'Times New Roman'; "><div><div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div></div></div></div><div><font class="Apple-style-span" face="Consolas"><div style="font-family: 'Times New Roman'; "><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><b>where()</b></font></div></div><div style="font-family: 'Times New Roman'; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: 'Times New Roman'; "><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; // 单条件查询</font></div><div style="font-family: 'Times New Roman'; "><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; $students = DB::table('student')</font></div><div>&nbsp; &nbsp; &nbsp; &nbsp; -&gt;<font class="Apple-style-span" color="#ff0000"><b>where</b></font>('id', '&gt;=', 1002)</div><div>&nbsp; &nbsp; &nbsp; &nbsp; -&gt;get();</div><div><br></div><div>&nbsp; &nbsp; // 多条件查询</div><div>&nbsp; &nbsp; $students = DB::table('student')</div><div>&nbsp; &nbsp; &nbsp; &nbsp; -&gt;<font class="Apple-style-span" color="#ff0000"><b>whereRaw</b></font>('id &gt;= ? and age &gt; ?', [1001, 18])</div><div>&nbsp; &nbsp; &nbsp; &nbsp; -&gt;get();</div></font><div style="font-family: 'Times New Roman'; "><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="font-family: 'Times New Roman'; "><div><font class="Apple-style-span" face="Consolas"><br></font></div></span></font></div></div></div></font><div><div><div><div><div><div><div><font class="Apple-style-span" face="Consolas"><br></font></div></div></div></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="font-family: 'Times New Roman'; "><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="font-family: 'Times New Roman'; "><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="font-family: 'Times New Roman'; "><div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><b>pluck()</b></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; // 返回结果集中的指定字段</font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; $names = DB::table('student')</font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; &nbsp; &nbsp; -&gt;<font class="Apple-style-span" color="#ff0000"><b>pluck</b></font>('name');</font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><b>lists()</b></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div></div></span></font></div></span></font></span></font><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; // 返回结果集中的指定字段</font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; $names = DB::table('student')</font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; &nbsp; &nbsp; -&gt;<font class="Apple-style-span" color="#ff0000"><b>lists</b></font>('name');</font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; // 指定某个键，作为返回数据的下标（键-值对中的键）</font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; $names = DB::table('student')</font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; &nbsp; &nbsp; -&gt;lists('name', 'id');</font></div><font class="Apple-style-span" face="Consolas"><font class="Apple-style-span" face="Consolas"><div><font class="Apple-style-span" face="Consolas"><div><div style="font-family: 'Times New Roman'; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: 'Times New Roman'; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: 'Times New Roman'; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: 'Times New Roman'; "><font class="Apple-style-span" face="Consolas"><b>select()</b></font></div><div style="font-family: 'Times New Roman'; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: 'Times New Roman'; "><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; // 指定查询的字段</font></div><div style="font-family: 'Times New Roman'; "><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; $students = DB::table('student')</font></div><div style="font-family: 'Times New Roman'; "><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; &nbsp; &nbsp; -&gt;<font class="Apple-style-span" color="#ff0000"><b>select</b></font>('id', 'name', 'age')</font></div><div style="font-family: 'Times New Roman'; "><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; &nbsp; &nbsp; -&gt;get();</font></div><div style="font-family: 'Times New Roman'; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: 'Times New Roman'; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: 'Times New Roman'; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: 'Times New Roman'; "><font class="Apple-style-span" face="Consolas"><b>chunk()</b></font></div><div style="font-family: 'Times New Roman'; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: 'Times New Roman'; "><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; // 分段获取(每次查几条，防止数据量过大，内存不够)</font></div><div style="font-family: 'Times New Roman'; "><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; echo '&lt;pre&gt;';</font></div><div>&nbsp; &nbsp; DB::table('student')-&gt;<font class="Apple-style-span" color="#ff0000"><b>chunk</b></font>(2, <b><font class="Apple-style-span" color="#0000ff">function</font></b>($students) {</div><div>&nbsp; &nbsp; &nbsp; &nbsp; var_dump($students);</div><div>&nbsp; &nbsp; &nbsp; &nbsp; if(你的条件){</div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font class="Apple-style-span" color="#ff0000"><b>return false;</b></font></div><div>&nbsp; &nbsp; &nbsp; &nbsp; }</div><div>&nbsp; &nbsp; });</div><div>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</div><div style="font-family: 'Times New Roman'; "><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp;&nbsp;</font></div><div style="font-family: 'Times New Roman'; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: 'Times New Roman'; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: 'Times New Roman'; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: 'Times New Roman'; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: 'Times New Roman'; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: 'Times New Roman'; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: 'Times New Roman'; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: 'Times New Roman'; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: 'Times New Roman'; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: 'Times New Roman'; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: 'Times New Roman'; "><font class="Apple-style-span" face="Consolas"><br></font></div></div></font><div style="font-family: 'Times New Roman'; "><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="font-family: 'Times New Roman'; "><div><font class="Apple-style-span" face="Consolas"><br></font></div></span></font></div></div></div></font><div style="font-family: 'Times New Roman'; "><div><div><div><div><div><div><font class="Apple-style-span" face="Consolas"><br></font></div></div></div></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="font-family: 'Times New Roman'; "><div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div></div></span></font><div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="font-family: 'Times New Roman'; "><div><font class="Apple-style-span" face="Consolas"><br></font></div></span></font><div><div><font class="Apple-style-span" face="Consolas"><br></font></div></div></div></div></div></div></div></div><div style="font-family: 'Times New Roman'; "><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="font-family: 'Times New Roman'; "><div><div><div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div></div></div></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="font-family: 'Times New Roman'; "><div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div></div></span></font><div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="font-family: 'Times New Roman'; "><div><font class="Apple-style-span" face="Consolas"><br></font></div></span></font></div></div></div></span></font><div><div><div><div><div><div><div><font class="Apple-style-span" face="Consolas"><br></font></div></div></div></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="font-family: 'Times New Roman'; "><div></div></span></font></div></div></div></div></div></font></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="font-family: 'Times New Roman'; "><div></div></span></font></div></div></div></div></div></div><script type="text/javascript" language="javascript" src="jquery.js"></script><script type="text/javascript" language="javascript" src="itemlink.js"></script></body></html>