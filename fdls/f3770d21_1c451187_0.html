<html><head></head>
<body><div><span style="font-family: 微软雅黑; font-size: 9pt; color: rgb(0, 0, 0); line-height: 16px; ">本节课大纲：</span></div><div><br></div><div><span style="font-family: 微软雅黑; font-size: 12pt; line-height: 22px; ">一、什么是MVC &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //了解</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp;M - Model 编写Model类，对数据进行操作</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp;V - View，编写html文件，页面呈现</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp;C - Controller，编写类文件(UserAction.Class.php)</span></div><div><br></div><div><span style="font-family: 微软雅黑; font-size: 12pt; line-height: 22px; ">二、ThinkPHP的MVC的特点 &nbsp; &nbsp; &nbsp; //了解</span></div><div><br></div><div><span style="font-family: 微软雅黑; font-size: 12pt; line-height: 22px; ">三、ThinkPHP的MVC对应的目录 &nbsp; //了解</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp;M 项目目录/应用目录</span><span style="font-family: 微软雅黑; font-size: 9pt; font-weight: bold; color: rgb(255, 0, 0); line-height: 16px; ">/lib/Model</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp;V&nbsp;</span><span style="font-family: 微软雅黑; font-size: 9pt; font-weight: bold; line-height: 16px; ">项目目录/应用目录/</span><span style="font-family: 微软雅黑; font-size: 9pt; font-weight: bold; color: rgb(255, 0, 0); line-height: 16px; ">Tpl</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp;C 项目目录/应用目录</span><span style="font-family: 微软雅黑; font-size: 9pt; font-weight: bold; color: rgb(255, 0, 0); line-height: 16px; ">/lib/Action</span></div><div><br></div><div><span style="font-family: 微软雅黑; font-size: 12pt; color: rgb(0, 0, 0); line-height: 22px; ">四、url访问C &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//了解</span></div><div><br></div><div><span style="font-family: 微软雅黑; font-size: 12pt; line-height: 22px; ">五、url的4种访问方式 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;//重点！</span></div><div><span style="font-family: 微软雅黑; font-size: 10pt; line-height: 18px; ">&nbsp; &nbsp;1.&nbsp;</span><span style="font-family: 微软雅黑; font-size: 10pt; font-weight: bold; line-height: 18px; ">PATHINFO</span><span style="font-family: 微软雅黑; font-size: 10pt; line-height: 18px; ">&nbsp;模式 -- 重点!!!!</span></div><div><span style="font-family: 微软雅黑; font-size: 10pt; line-height: 24px; ">&nbsp; &nbsp; &nbsp;</span><a href="http://" style="font-family: 微软雅黑; font-size: 10pt; text-decoration: underline; color: rgb(0, 0, 255); ">http://</a><span style="font-family: 微软雅黑; font-size: 10pt; color: rgb(0, 0, 0); line-height: 24px; ">域名/项目名/入口文件/模块名/方法名/键1/值1/键2/值2</span></div><div><span style="font-family: 微软雅黑; font-size: 10pt; line-height: 18px; ">&nbsp; &nbsp;2. 普通模式</span></div><div><span style="font-family: 微软雅黑; font-size: 10pt; line-height: 24px; ">&nbsp; &nbsp; &nbsp;</span><a href="http://" style="font-family: 微软雅黑; font-size: 10pt; text-decoration: underline; color: rgb(0, 0, 255); ">http://</a><span style="font-family: 微软雅黑; font-size: 10pt; color: rgb(0, 0, 0); line-height: 24px; ">域名/项目名/入口文件?</span><span style="font-family: 微软雅黑; font-size: 10pt; font-weight: bold; color: rgb(0, 0, 0); line-height: 24px; ">m</span><span style="font-family: 微软雅黑; font-size: 10pt; color: rgb(0, 0, 0); line-height: 24px; ">=模块名&amp;</span><span style="font-family: 微软雅黑; font-size: 10pt; font-weight: bold; color: rgb(0, 0, 0); line-height: 24px; ">a</span><span style="font-family: 微软雅黑; font-size: 10pt; color: rgb(0, 0, 0); line-height: 24px; ">=方法名&amp;键1=值1&amp;键2=值2</span></div><div><span style="font-family: 微软雅黑; font-size: 10pt; line-height: 24px; ">&nbsp; &nbsp;3. REWRITE模式</span></div><div><span style="font-family: 微软雅黑; font-size: 10pt; line-height: 18px; ">&nbsp; &nbsp;4. 兼容模式</span></div><div><span style="font-family: 微软雅黑; font-size: 10pt; line-height: 18px; ">&nbsp; &nbsp; &nbsp;&nbsp;</span><a href="http://" style="font-family: 微软雅黑; font-size: 10pt; text-decoration: underline; color: rgb(0, 0, 255); ">http://</a><span style="font-family: 微软雅黑; font-size: 10pt; color: rgb(0, 0, 0); line-height: 18px; ">域名/项目名/入口文件?</span><span style="font-family: 微软雅黑; font-size: 10pt; font-weight: bold; color: rgb(0, 0, 0); line-height: 18px; ">s</span><span style="font-family: 微软雅黑; font-size: 10pt; color: rgb(0, 0, 0); line-height: 18px; ">=模块名/方法名/键1/值1/键2/值2</span></div><div><br></div><div><br></div><div><br></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">================================Leo==============================================</span></div><div><span style="font-family: 微软雅黑; font-size: 12pt; line-height: 30px; ">1. 模块 &amp; 方法</span></div><div><span style="font-family: 微软雅黑; font-size: 10pt; line-height: 18px; ">&nbsp; &nbsp;访问应用的3种等同的URL：</span></div><div><span style="font-family: 微软雅黑; font-size: 10pt; line-height: 18px; ">&nbsp; &nbsp; &nbsp; &nbsp;</span><a href="http://localhost/thinkphp" style="font-family: 微软雅黑; font-size: 10pt; text-decoration: underline; color: rgb(0, 0, 255); ">http://localhost/thinkphp</a></div><div><span style="font-family: 微软雅黑; font-size: 10pt; line-height: 18px; ">&nbsp; &nbsp; &nbsp; &nbsp;</span><a href="http://localhost/thinkphp/index.php" style="font-family: 微软雅黑; font-size: 10pt; text-decoration: underline; color: rgb(0, 0, 255); ">http://localhost/thinkphp/index.php</a></div><div><span style="font-family: 微软雅黑; font-size: 10pt; line-height: 24px; ">&nbsp; &nbsp; &nbsp; &nbsp;</span><a href="http://localhost/thinkphp/index.php/Index/index" style="font-family: 微软雅黑; font-size: 10pt; text-decoration: underline; color: rgb(0, 0, 255); ">http://localhost/thinkphp/index.php/Index/index</a><span style="font-family: 微软雅黑; font-size: 10pt; line-height: 24px; ">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;//Index模块（C）下的index方法</span></div><div><span style="font-family: 微软雅黑; font-size: 10pt; line-height: 18px; ">&nbsp; &nbsp;</span><span style="font-family: 微软雅黑; font-size: 10pt; font-weight: bold; line-height: 18px; ">Index模块</span></div><div><span style="font-family: 微软雅黑; font-size: 10pt; line-height: 24px; ">&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: 微软雅黑; font-size: 10pt; line-height: 24px; ">对应：Lib/Action/IndexAction.class.php 文件的 IndexAction类</span></div><div><span style="font-family: 微软雅黑; font-size: 10pt; line-height: 18px; ">&nbsp; &nbsp;</span><span style="font-family: 微软雅黑; font-size: 10pt; font-weight: bold; line-height: 18px; ">index方法</span></div><div><span style="font-family: 微软雅黑; font-size: 10pt; line-height: 18px; ">&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: 微软雅黑; font-size: 10pt; line-height: 18px; ">对应 IndexAction.class.php中的IndexAction类的index方法</span></div><div><span style="font-family: 微软雅黑; font-size: 10pt; line-height: 24px; ">&nbsp; &nbsp; &nbsp; &nbsp;还可以对应其它方法，对应地址栏地址：</span><a href="http://localhost/thinkphp/index.php/Index/show" style="font-family: 微软雅黑; font-size: 10pt; text-decoration: underline; color: rgb(0, 0, 255); ">http://localhost/thinkphp/index.php/Index/show</a><span style="font-family: 微软雅黑; font-size: 10pt; line-height: 24px; ">&nbsp;，即在IndexAction类下的show方法</span></div><div><span style="font-family: 微软雅黑; font-size: 10pt; line-height: 18px; ">&nbsp; &nbsp;</span><span style="font-family: 微软雅黑; font-size: 10pt; font-weight: bold; line-height: 18px; ">传值：</span></div><div><span style="font-family: 微软雅黑; font-size: 10pt; line-height: 18px; ">&nbsp; &nbsp; &nbsp; &nbsp;通过URL地址写入，</span><a href="http://" style="font-family: 微软雅黑; font-size: 10pt; text-decoration: underline; color: rgb(0, 0, 255); ">http://</a><span style="font-family: 微软雅黑; font-size: 10pt; color: rgb(0, 0, 0); line-height: 18px; ">域名/项目名/入口文件/模块名/方法名/键1/值1/键2/值2</span></div><div><span style="font-family: 微软雅黑; font-size: 10pt; line-height: 18px; ">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><a href="http://localhost/thinkphp/index.php/Index/show/name/Tony/age/18" style="font-family: 微软雅黑; font-size: 10pt; text-decoration: underline; color: rgb(0, 0, 255); ">http://localhost/thinkphp/index.php/Index/show/name/Tony/age/18</a></div><div><span style="font-family: 微软雅黑; font-size: 10pt; line-height: 24px; ">&nbsp; &nbsp; &nbsp; &nbsp;再在模块方法中通过</span><span style="font-family: 微软雅黑; font-size: 10pt; font-weight: bold; line-height: 24px; ">$_Get['name']</span><span style="font-family: 微软雅黑; font-size: 10pt; line-height: 24px; ">形式使用。</span></div><div><span style="font-family: 微软雅黑; font-size: 10pt; line-height: 18px; ">&nbsp; &nbsp;</span><span style="font-family: 微软雅黑; font-size: 10pt; font-weight: bold; line-height: 18px; ">rewrite模式</span><span style="font-family: 微软雅黑; font-size: 10pt; line-height: 18px; ">，省略index.php，即</span><a href="http://localhost/thinkphp/Index/index" style="font-family: 微软雅黑; font-size: 10pt; text-decoration: underline; color: rgb(0, 0, 255); ">http://localhost/thinkphp/Index/index</a></div><div><span style="font-family: 微软雅黑; font-size: 10pt; line-height: 18px; ">&nbsp; &nbsp; &nbsp; &nbsp;需要使apache服务器支持rewrite模式</span></div><div><span style="font-family: 微软雅黑; font-size: 10pt; line-height: 18px; ">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;a. 在Apache配置文件httpd.conf中，去掉rewrite行的注释，重启服务</span></div><div><span style="font-family: 微软雅黑; font-size: 10pt; line-height: 18px; ">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;b. 在入口文件同目录下（项目目录下），创建.htaccess文件，里面写入rewrite规则。</span></div><div><br></div><div><span style="font-family: 微软雅黑; font-size: 12pt; line-height: 30px; ">2. 配置修改</span></div><div><span style="font-family: 微软雅黑; font-size: 11pt; line-height: 28px; ">&nbsp; &nbsp; &nbsp; &nbsp;路径为：</span><span style="font-family: 微软雅黑; font-size: 11pt; font-weight: bold; line-height: 28px; ">应用/Conf/config.php</span></div><div><span style="font-family: 微软雅黑; font-size: 11pt; line-height: 21px; ">&nbsp; &nbsp; &nbsp; &nbsp;修改地址中键值分隔符：即</span></div><div><span style="font-family: 微软雅黑; font-size: 11pt; line-height: 21px; ">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><a href="http://localhost/thinkphp/index.php/Index-show-name-Tony-age-18" style="font-family: 微软雅黑; font-size: 11pt; text-decoration: underline; color: rgb(0, 0, 255); ">http://localhost/thinkphp/index.php/Index-show-name-Tony-age-18</a></div><div><span style="font-family: 微软雅黑; font-size: 11pt; line-height: 21px; ">&nbsp; &nbsp; &nbsp; &nbsp;&lt;?php</span></div><div><span style="font-family: 微软雅黑; font-size: 11pt; line-height: 21px; ">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return array{</span></div><div><span style="font-family: 微软雅黑; font-size: 11pt; line-height: 21px; ">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;"</span><span style="font-family: 微软雅黑; font-size: 11pt; font-weight: bold; color: rgb(255, 0, 0); line-height: 21px; ">PATH_INFO_DEPR</span><span style="font-family: 微软雅黑; font-size: 11pt; color: rgb(0, 0, 0); line-height: 21px; ">" =&gt;"-", //修改URL分隔符</span></div><div><span style="font-family: 微软雅黑; font-size: 11pt; line-height: 21px; ">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span><span style="font-family: 微软雅黑; font-size: 11pt; font-weight: bold; color: rgb(255, 0, 0); line-height: 21px; ">;</span></div><div><span style="font-family: 微软雅黑; font-size: 11pt; line-height: 28px; ">&nbsp; &nbsp; &nbsp; &nbsp;?&gt;</span></div><div><span style="font-family: 微软雅黑; font-size: 11pt; line-height: 21px; ">&nbsp; &nbsp; &nbsp; &nbsp;修改后不能即时生效问题：删除缓存</span></div><div><span style="font-family: 微软雅黑; font-size: 11pt; line-height: 21px; ">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;项目/Runtime文件夹</span></div><div><br></div><div><span style="font-family: 微软雅黑; font-size: 12pt; line-height: 22px; ">3. 开启调试模式，不缓存</span></div><div><span style="font-family: 微软雅黑; font-size: 10pt; line-height: 18px; ">&nbsp; &nbsp; &nbsp; &nbsp;在项目index.php入口文件中：</span></div><div><span style="font-family: 微软雅黑; font-size: 10pt; line-height: 18px; ">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: 微软雅黑; font-size: 10pt; font-weight: bold; color: rgb(255, 0, 0); line-height: 18px; ">define('APP_DEBUG', true);</span></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div>

<script type="text/javascript" language="javascript" src="jquery.js"></script><script type="text/javascript" language="javascript" src="itemlink.js"></script></body></html>