<html><head></head>
<body>

<div><br></div><div><div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><br></span></font></div><div><font class="Apple-style-span" face="Consolas"><b>使用模型新増数据</b></font></div></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; // 向数据表中添加数据</font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; // 使用 save 时，默认会自动维护数据表的 create 和 update 字段（created_at, updated_at)</font></div><div><font class="Apple-style-span" face="Consolas" color="#993366">&nbsp; &nbsp; $student = new Student();</font></div><div><font class="Apple-style-span" face="Consolas" color="#993366">&nbsp; &nbsp; $student-&gt;name = 'sean1';</font></div><div><font class="Apple-style-span" face="Consolas" color="#993366">&nbsp; &nbsp; $student-&gt;age = 20;</font></div><div><font class="Apple-style-span" face="Consolas"><font class="Apple-style-span" color="#993366">&nbsp; &nbsp; $bool = $student-&gt;</font><font class="Apple-style-span" color="#ff0000"><b>save</b></font><font class="Apple-style-span" color="#993366">();</font></font></div><div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><br></span></font></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><br></span></font></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><br></span></font></div><div><font class="Apple-style-span" face="Consolas"><b>关闭时间戳的自动维护</b></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; // 在模型中关闭，一般打开， 默认打开</font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; public $<font class="Apple-style-span" color="#ff0000"><b>timestamps</b></font> = false;</font></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><br></span></font></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">&nbsp; &nbsp; // 使保存到数据库的时间戳为当前时间（特定的time()返回格式），在模型中</span></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; protected function <font class="Apple-style-span" color="#ff0000"><b>getDateFormat</b></font>(){</font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; &nbsp; &nbsp; return time();</font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; }</font></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><br></span></font></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">&nbsp; &nbsp; // 从数据库取时间，打印出时间戳时，会默认自动格式化</span></font></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">&nbsp; &nbsp; $student = Student::find(1007);</span></font></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">&nbsp; &nbsp; echo $student-&gt;created_at;</span></font></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><br></span></font></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><br></span></font></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><br></span></font></div><div><font class="Apple-style-span" face="Consolas"><b>关闭时间戳读取打印的自动格式化</b></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; // 在模型中</font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; protected function <font class="Apple-style-span" color="#ff0000"><b>asDateTime</b></font>($val){</font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; &nbsp; &nbsp; return $val;</font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; }</font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><br></span></font></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><br></span></font></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><br></span></font></div></div></div><div><div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><br></span></font></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><br></span></font></div></div><div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><br></span></font></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><br></span></font></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><br></span></font></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><br></span></font></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><br></span></font></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><br></span></font></div></div></div><div><div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><br></span></font></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><br></span></font></div></div><div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><br></span></font></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><br></span></font></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><br></span></font></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><br></span></font></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><br></span></font></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><br></span></font></div></div></div><script type="text/javascript" language="javascript" src="jquery.js"></script><script type="text/javascript" language="javascript" src="itemlink.js"></script></body></html>