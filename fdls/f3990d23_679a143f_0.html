<html><head></head>
<body>

<div><br></div><div><div><span style="font-family: 微软雅黑; font-size: 14pt; font-weight: bold; line-height: 26px; ">本节课大纲：</span></div><div><br></div><div><span style="font-family: 微软雅黑; font-size: 12pt; font-weight: bold; line-height: 22px; ">一、ThinkPHP 3 的输出 &nbsp; &nbsp; &nbsp;（重点）</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 22px; ">&nbsp; &nbsp; &nbsp; &nbsp;a、通过 echo 等PHP原生的输出方式在页面中输出</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp;b、通过display方法输出</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 22px; ">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;想分配变量可以使用assign方法</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp;c、修改左右定界符</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;休要修改配置文件中的配置项</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;'TMPL_L_DELIM'=&gt;'&lt;{', //修改左定界符</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;'TMPL_R_DELIM'=&gt;'}&gt;', //修改右定界符</span></div><div><br></div><div><span style="font-family: 微软雅黑; font-size: 11pt; font-weight: bold; line-height: 28px; ">二、ThinkPHP 3 的模型使用 &nbsp;（重点）</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp;需要在方法中通过new Model（表名）的形式操作数据库</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$m=new Model('User');</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 22px; ">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$arr=$m-&gt;select();</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp;'DB_TYPE'=&gt;'mysql', &nbsp; //设置数据库类型</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp;'DB_HOST'=&gt;'localhost',//设置主机</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp;'DB_NAME'=&gt;'thinkphp',//设置数据库名</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp;'DB_USER'=&gt;'root', &nbsp; &nbsp;//设置用户名</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp;'DB_PWD'=&gt;'', &nbsp; &nbsp; &nbsp; &nbsp;//设置密码</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp;'DB_PORT'=&gt;'3306', &nbsp; //设置端口号</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp;'DB_PREFIX'=&gt;'tp_', &nbsp;//设置表前缀</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp;也可以使用DSN方法进行配置</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp;'DB_DSN'=&gt;'mysql://root:@localhost:3306/thinkphp',//使用DSN方式配置数据库信息</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp;如果两种方式同时存在，以DSN方式为优先</span></div><div><br></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp;还有一种简单实用模型的方式</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp;</span><span style="font-family: 微软雅黑; font-size: 9pt; font-weight: bold; color: rgb(255, 0, 0); line-height: 16px; ">M()&nbsp;</span><span style="font-family: 微软雅黑; font-size: 9pt; color: rgb(0, 0, 0); line-height: 16px; ">等效为&nbsp;</span><span style="font-family: 微软雅黑; font-size: 9pt; color: rgb(255, 0, 0); line-height: 16px; ">new Model();</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp;$m=M('User');</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp;$arr=$m-&gt;select();</span></div><div><br></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp;使用模型的实例可以对数据进行操作，操作的工作一般就是对数据库进行</span><span style="font-family: 微软雅黑; font-size: 9pt; font-weight: bold; line-height: 16px; ">&nbsp;</span><span style="font-family: 微软雅黑; font-size: 9pt; font-weight: bold; color: rgb(255, 0, 0); line-height: 16px; ">增删改查 CURD</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; color: rgb(0, 0, 0); line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp;</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp;增 -C Create $m-&gt;add()</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp;删 -D Delete $m-&gt;delete()</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp;改 -U Update $m-&gt;save()</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 28px; ">&nbsp; &nbsp; &nbsp; &nbsp;查 -R Read &nbsp; $m-&gt;select()</span></div><div><br></div><div><span style="font-family: 微软雅黑; font-size: 12pt; font-weight: bold; line-height: 30px; ">三、补充 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; （了解）</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp;a、模板可以遍历数组</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp;&lt;volist name='data' id='vo'&gt;</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;{$vo.id}&gt;----&lt;{$vo.username}&gt;-----&lt;{$vo.sex}&gt;&lt;br/&gt;</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 28px; ">&nbsp; &nbsp; &nbsp; &nbsp;&lt;/volist&gt;</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 22px; ">&nbsp; &nbsp; &nbsp; &nbsp;b、我们可以开启调试功能中的</span><span style="font-family: 微软雅黑; font-size: 9pt; font-weight: bold; color: rgb(255, 0, 0); line-height: 22px; ">page_trace</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;1.开启调试功能</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 22px; ">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;define('APP_DEBUG',true); &nbsp;//在主入口文件中index.php</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2.我们需要设置配置文件，开启页面trace</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;'</span><span style="font-family: 微软雅黑; font-size: 9pt; font-weight: bold; line-height: 16px; ">SHOW_PAGE_TRACE'</span><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">=&gt;true</span></div><div><br></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">+++++++++++++++++++++++++++++++++++Leo++++++++++++++++++++++++++++++++++++++++++++++</span></div><div><br></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">1. 简化数据库的配置</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp;"</span><span style="font-family: 微软雅黑; font-size: 9pt; font-weight: bold; color: rgb(255, 0, 0); line-height: 16px; ">DB_DSN</span><span style="font-family: 微软雅黑; font-size: 9pt; color: rgb(0, 0, 0); line-height: 16px; ">" =&gt; "mysql://root:pwd@localhost:3306/thinkphp" &nbsp;</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp;//使用DSN的方式进行配置，若DSN与前述方式同时存在，以DSN优先</span></div><div><br></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">2. 模型的实例</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp;$m =&nbsp;</span><span style="font-family: 微软雅黑; font-size: 9pt; font-weight: bold; color: rgb(255, 0, 0); line-height: 16px; ">M</span><span style="font-family: 微软雅黑; font-size: 9pt; color: rgb(0, 0, 0); line-height: 16px; ">('User');</span></div><div><br></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">3. 把数组分配给前台</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp;C中：</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$arr = $m-&gt;select();</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;$this-&gt;assign('data', $arr);</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp;V中，进行数组遍历：</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;volist&nbsp;</span><span style="font-family: 微软雅黑; font-size: 9pt; font-weight: bold; color: rgb(255, 0, 0); line-height: 16px; ">name</span><span style="font-family: 微软雅黑; font-size: 9pt; color: rgb(0, 0, 0); line-height: 16px; ">='data'&nbsp;</span><span style="font-family: 微软雅黑; font-size: 9pt; font-weight: bold; color: rgb(255, 0, 0); line-height: 16px; ">id</span><span style="font-family: 微软雅黑; font-size: 9pt; color: rgb(0, 0, 0); line-height: 16px; ">='vo'&gt; &nbsp; &nbsp; &nbsp; &nbsp;&lt;！--双标签--&gt;</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;{$vo.id}&gt;------&lt;{$vo.username}&gt;----------&lt;{$vo.sex}&gt;&lt;br/&gt;</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;/volist&gt;</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&lt;!-- vo为数组中每次进行遍历的数组元素 --&gt;</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp;</span></div><div><span style="font-size: 9pt; line-height: 16px; ">4. page_trace,&nbsp;</span><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">便于开发过程中进行调试</span></div><div><span style="font-family: 微软雅黑; font-size: 9pt; line-height: 16px; ">&nbsp; &nbsp; &nbsp; &nbsp;显示整个页面程序加载的运行时间</span></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div></div><script type="text/javascript" language="javascript" src="jquery.js"></script><script type="text/javascript" language="javascript" src="itemlink.js"></script></body></html>