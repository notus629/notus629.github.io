<html><head></head>
<body><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><font class="Apple-style-span"><br></font></span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><font class="Apple-style-span"><br></font></span></div><div><b>禁用目录浏览的多种方法</b></div><div><br></div><div><br></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><font class="Apple-style-span"><br></font></span></div><div><b>禁用目录浏览 （禁止 apache 显示目录索引）</b></div></span></font><span class="Apple-style-span" style="font-family: Consolas; background-color: rgb(255, 255, 255); "><b><div><span class="Apple-style-span" style="font-family: Consolas; background-color: rgb(255, 255, 255); "><b><br></b></span></div>&nbsp; &nbsp;&nbsp;<font class="Apple-style-span" color="#993400">方法 1. 在目录下设置如下 index.php（或 index.html) 文件（仅对当前目录有效，子目录无效）</font></b></span><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">&nbsp; &nbsp;&nbsp;</span></font><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">&nbsp; &nbsp;&nbsp;</span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">&nbsp; &nbsp;&nbsp;<br></span></font><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><font class="Apple-style-span" color="#ff6600">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</font><font class="Apple-style-span" color="#666699"># index.php 或 index.html 文件中包含以下内容。或直接为空即可</font></span></font></div><div><font class="Apple-style-span" face="Consolas" color="#ff00ff"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">&nbsp; &nbsp;&nbsp;</span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">&nbsp; &nbsp;&nbsp;</span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">&lt;?php</span></font></div><div><font class="Apple-style-span" face="Consolas" color="#ff00ff"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">&nbsp; &nbsp;&nbsp;</span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">&nbsp; &nbsp;&nbsp;</span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">&nbsp; &nbsp;&nbsp;</span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">die (’Access Denied’);</span></font></div><div><font class="Apple-style-span" face="Consolas" color="#ff00ff"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">&nbsp; &nbsp;&nbsp;</span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">&nbsp; &nbsp;&nbsp;</span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">?&gt;</span></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><div><br></div><font class="Apple-style-span" color="#993400"><b>&nbsp; &nbsp; 方法 2. 修改目录配置（httpd.conf）</b></font></span><font class="Apple-style-span" color="#993400"><b><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">(</span>全局关闭目录浏览)</b></font></font></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">&nbsp; &nbsp; &nbsp; &nbsp; 默认为打开目录浏览功能，</span></font><span class="Apple-style-span" style="font-family: Consolas; background-color: rgb(255, 255, 255); ">即在没有默认首页（如 index.html, index.php 等）时，用户能直接浏览 web 目录架构</span></div><div><span class="Apple-style-span" style="font-family: Consolas; "><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><font class="Apple-style-span" color="#ff00ff">Options Indexes FollowSymLinks</font></span></span></div><div><span class="Apple-style-span" style="font-family: Consolas; background-color: rgb(255, 255, 255); ">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><div>&nbsp; &nbsp; &nbsp; &nbsp; 在 httpd.conf 中找到如下内容</div></span></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;<font class="Apple-style-span" style="background-color: rgb(204, 255, 255);" color="#ff99cc"><b>Options Indexes FollowSymLinks</b></font><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp;</span></font></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></font></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);">&nbsp; &nbsp; &nbsp; &nbsp; 将其修</span></font><span class="Apple-style-span" style="font-family: Consolas; background-color: rgb(255, 255, 255); ">改为&nbsp;</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font class="Apple-style-span" color="#ff00ff">Options -Indexes FollowSymLinks</font></font></span></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; &nbsp; &nbsp; 注意：httpd.conf 中类似的语句有几条，找到最准确的再进行修改<br><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><div><br></div><div><font class="Apple-style-span" color="#993400"><b>&nbsp; &nbsp; 方法 3. 修改配置(.htaccess), 针对特定的网站取消该功能</b></font></div><div><br></div></span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><div>&nbsp; &nbsp; &nbsp; &nbsp; 在 httpd.conf 中，将 <font class="Apple-style-span" color="#ff99cc">AllowOverride None</font> 修改为：&nbsp;</div><div><font class="Apple-style-span" color="#666699">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; # 即， 允许 .htaccess 文件中的配置覆盖 httpd.conf 中的配置</font></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font class="Apple-style-span" color="#ff00ff">AllowOverride All</font></div><div><br></div><div>&nbsp; &nbsp; &nbsp; &nbsp; 然后，在特定网站的主目录下写入一个 .htaccess 文件，内容包括：</div></span></font><span class="Apple-style-span" style="font-family: Consolas; background-color: rgb(255, 255, 255); ">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font class="Apple-style-span" color="#666699"># head .htaccess</font></span><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font class="Apple-style-span" color="#ff00ff">Options -Indexes</font></div><div>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ...</div><div><br></div><div><br></div></span></font><div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><b>注</b></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; 1. <font class="Apple-style-span" color="#ff0000"><b>option +indexes</b></font> 或 <font class="Apple-style-span" color="#ff0000"><b>option indexes</b></font> 表示允许目录浏览，将 <font class="Apple-style-span" color="#ff9900">indexes 去掉</font>或改为 <font class="Apple-style-span" color="#ff9900">-indexes</font> 即可禁用。</font></div></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; 2. 若开启了虚拟主机，虚拟主机配置处也要进行类似的修改</font></div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><b>References</b></div><div><br></div></span></font><span class="Apple-style-span" style="font-family: Consolas; background-color: rgb(255, 255, 255); ">&nbsp; &nbsp; [1]&nbsp;关闭Apache的目录浏览功能 &nbsp;<a href="http://blog.csdn.net/cangyingaoyou/article/details/18316859">http://blog.csdn.net/cangyingaoyou/article/details/18316859</a></span><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div><div><br></div></span></font></div></div><script type="text/javascript" language="javascript" src="jquery.js"></script><script type="text/javascript" language="javascript" src="itemlink.js"></script></body></html>