<html><head></head>
<body>

<div><font class="Apple-style-span" face="Consolas"><br></font></div><div><b><font class="Apple-style-span" face="Consolas">CGI</font></b></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp;&nbsp;CGI 全称是“公共网关接口”(Common Gateway Interface)，HTTP 服务器与你的或其它机器上的程序进行“交谈”的一种工具，其程序一般运行在网络服务器上。 CGI 可以用任何一种语言编写，只要这种语言具有标准输入、输出和环境变量。如 php ,perl ,tcl 等。</font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><b><font class="Apple-style-span" face="Consolas">FastCGI</font></b></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp;&nbsp;FastCGI 像是一个常驻 (long-live) 型的 CGI，</font><span class="Apple-style-span" style="font-family: Consolas; ">只要激活后，</span><span class="Apple-style-span" style="font-family: Consolas; ">它就可以一直执行着，而不会每次都要花费时间去 fork 一次(这是 CGI 最为人诟病的 fork-and-execute 模式)。</span></div><div><span class="Apple-style-span" style="font-family: Consolas; "><br></span></div><div><span class="Apple-style-span" style="font-family: Consolas; ">&nbsp; &nbsp; 它还支持分布式的运算, 即 FastCGI 程序可以在网站服务器以外的主机上执行并且接受来自其它网站服务器来的请求。</span></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; FastCGI 是语言无关的、可伸缩架构的 CGI 开放扩展，其主要行为是将 CGI 解释器进程保持在内存中并因此获得较高的性能。而 CGI 解释器的反复加载是 CGI 性能低下的主要原因，如果 CGI 解释器保持在内存中并接受 FastCGI 进程管理器调度，则可以提供良好的性能、伸缩性、Fail-Over 特性等。</font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; FastCGI 不足之处是，因为是<font class="Apple-style-span" color="#ff0000"><b>多进程</b></font>，所以它比 <font class="Apple-style-span" color="#ff0000"><b>CGI 多线程</b></font>消耗更多的服务器内存。</font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><b><font class="Apple-style-span" face="Consolas">PHP-FPM</font></b></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp;&nbsp;<font class="Apple-style-span" color="#ff0000"><b>PHP-FPM</b></font> (FastCGI Process Manager：FastCGI 进程管理器)</font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; PHP5.3.3 已经集成 php-fpm 了，不再是第三方的包了。PHP-FPM 提供了更好的 PHP 进程管理方式，可以有效控制内存和进程、可以平滑重载 PHP 配置，比 spawn-fcgi 具有更多优点，所以被 PHP 官方收录了。在 ./configure 的时候带 –enable-fpm 参数即可开启 PHP-FPM。</font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; 使用 PHP-FPM 来控制 PHP-CGI 的 FastCGI 进程。</font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><b><font class="Apple-style-span" face="Consolas">CGI FastCGI 与 ISAPI 比较</font></b></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; CGI 就是以可执行程序的方式执行，如 exe 文件，一般一个 CGI 程序只能处理一个用户请求，当用户请求数量非常多时，就占用大量系统资源。</font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; FastCGI 将 CGI 保存在内存中，接受 FastCGI 进程管理器调试。</font></div><div><font class="Apple-style-span" face="Consolas">&nbsp;</font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; ISAPI（Internet Server Application Program Interface), 微软提供的一套面向面向Web服务的 API 接口，能以动态库(如 dll）的形式使用，在处理完一个用户请求后不会马上消失，而是继续驻留在内存中等待处理别的用户输入。此外, ISAPI 的 DLL 应用程序和 WEB 服务器处于同一个进程中，效率要显著高于 CGI。</font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><div style="font-family: 'Times New Roman'; "><font class="Apple-style-span" face="Consolas"><b>PHP 的安装方式</b></font></div><div style="font-family: 'Times New Roman'; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: 'Times New Roman'; "><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; 在 Windows 中，PHP 要么以 CGI (php.exe) 脚本方式进行安装，要么作为一个 SAPI （php5isapi2_2.dll) 模块进行安装。[4]</font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><span class="Apple-style-span" style="font-family: Consolas; "><b>References</b></span></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; [1] fastcgi 百度百科 &nbsp;<a href="http://baike.baidu.com/view/641394.htm">http://baike.baidu.com/view/641394.htm</a></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; [2]&nbsp;IIS下PHP的ISAPI和FastCGI比较 &nbsp;<a href="http://www.williamlong.info/archives/1846.html">http://www.williamlong.info/archives/1846.html</a></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><br></div><script type="text/javascript" language="javascript" src="jquery.js"></script><script type="text/javascript" language="javascript" src="itemlink.js"></script></body></html>