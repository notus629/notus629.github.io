<html><head></head>
<body>

<div><br></div><div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><b>Git FAQ</b></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp;&nbsp;<font class="Apple-style-span" color="#008000">1. Win10，用记事本编辑的中文，利用 git diff 在 Git Bash 中显示为乱码?</font></font></span></div><div><span class="Apple-style-span" style="font-family: Consolas; line-height: 22px; "><br></span></div><div><span class="Apple-style-span" style="font-family: Consolas; line-height: 22px; ">&nbsp; &nbsp; &nbsp; &nbsp; 记事本默认为 ANSI 编辑，猜想中文就默认为 GB18030，将其另存为 UTF-8 格式后，显示为正常。</span></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp;&nbsp;<font class="Apple-style-span" color="#008000">2. 关于暂存区(stage)，是添加一次后这个文件以后就一直在暂存区了，还是每次 commit 之后从暂存区提交到了仓库中，下次还得再 git add 一下？</font></font></span></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; &nbsp; &nbsp; commit 之后，stage 里的内容就 commit 到仓库了，此时 stage 为空，下次还得重新再 git add 一次。</font></span></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp;<font class="Apple-style-span" color="#008000">&nbsp;3. HEAD 是当前所在分支，而 git branch 是切换到当前分支，二者应该等同才对。为什么在分支 feature-A 上，使用 git checkout -reset ***** 回溯或推进到另一个分支的某个版本，HEAD变过去了(用 git GUI 查看是指向回溯或推进过去的版本了)，而当前分支用 git branch 命令看还是 feature-A？</font></font></span></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; &nbsp; &nbsp; 参见 [1]</font></span></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="line-height: 22px; ">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></font></div><div><span class="Apple-style-span" style="font-family: Consolas; ">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span><span class="Apple-style-span" style="font-family: Consolas; line-height: 22px; ">你可以认为 HEAD(大写)是"current branch"(当下的分支)。当你用git checkout切换分支的时候，HEAD 修订版本重新指向新的分支。有的时候HEAD会指向一个没有分支名字的修订版本，这种情况叫"detached HEAD"</span><br></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; &nbsp; &nbsp; head(小写)是commit对象的引用，每个head都有一个名字（分支名字或者标签名字等等），但是默认情况下，每个叫master的repository都会有一个head, 一个repository可以包含任意数量的head。在任何时候，只要这个head被选择成为"current head"，那么这个head就成了HEAD,总是大写</font></span></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; &nbsp; &nbsp; a. 假设1：HEAD并没有变，git GUI中的绿点仅指最后改动活跃点指针。</font></span></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; &nbsp; &nbsp; b. 假设2：HEAD用于版本变换，而当前分支用于提交commit，所以git branch看到的当前分支与HEAD可以不同。</font></span></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; &nbsp; &nbsp; 似乎在feature-A分支下回溯master的版本没用，切换到主分支之后，还是变为最近切换到feature-A时的那个master版本</font></span></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp;&nbsp;<font class="Apple-style-span" color="#008000">4. 关于Git回溯与推进，git reset --hard &lt;hash value&gt;书上提到只是将 HEAD，工作树，暂存区恢复到该时间点状态，当前的工作分支是没变的。</font></font></span></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span class="Apple-style-span" style="font-family: Consolas; line-height: 22px; "><b>References</b></span></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; [1]&nbsp;</font></span><span class="Apple-style-span" style="font-family: Consolas; "><a href="https://segmentfault.com/q/1010000000770497" style="text-decoration: underline; color: rgb(0, 0, 255); ">https://segmentfault.com/q/1010000000770497</a></span></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span style="line-height: 22px; "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="line-height: 22px;"><br></span></font></div></div><script type="text/javascript" language="javascript" src="jquery.js"></script><script type="text/javascript" language="javascript" src="itemlink.js"></script></body></html>