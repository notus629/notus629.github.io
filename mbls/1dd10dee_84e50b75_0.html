<html><head></head>
<body>

<div><font class="Apple-style-span" face="Consolas"><br></font></div><div><!--StartFragment--><h1 class="YaHei" style="margin-top: 0px; margin-right: 0px; margin-bottom: 10px; margin-left: 0px; padding-top: 15px; padding-right: 0px; padding-bottom: 10px; padding-left: 0px; font-size: 16px; font-weight: 600; color: rgb(51, 51, 51); font-style: normal; font-variant: normal; line-height: normal; text-align: center; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(188, 213, 229); letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); "><font class="Apple-style-span" face="Consolas">Apache 伪静态 Rewrite 详解</font></h1><!--EndFragment--></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; Rewirte 主要的功能就是<font class="Apple-style-span" color="#800000"><b>实现URL的跳转</b></font>，它的正则表达式是基于Perl语言。可基于<font class="Apple-style-span" color="#0000ff">服务器级的(httpd.conf)</font>和<font class="Apple-style-span" color="#0000ff">目录级的 (.htaccess)</font>两种方式。</font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; 如果要想用到rewrite模块，必须先安装或加载<b><font class="Apple-style-span" color="#ff6600">rewrite模块</font></b>。方法有两种一种是编译apache的时候就直接 安装rewrite模块，别一种是编译apache 时以 DSO 模式安装 apache,然后再利用源码和apxs来安装rewrite模块。</font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><!--StartFragment--><font class="Apple-style-span" face="Consolas"><span style="color: rgb(0, 0, 0); font-style: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); display: inline !important; float: none; "><b>在 Apache 配置中启用Rewrite</b></span><!--EndFragment--></font></div><div><span style="color: rgb(0, 0, 0); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); display: inline !important; float: none; "><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</font></span></div><div><span style="color: rgb(0, 0, 0); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); display: inline !important; float: none; "><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;打开配置文件httpd.conf：</font></span></div><div><span style="color: rgb(0, 0, 0); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); display: inline !important; float: none; "><font class="Apple-style-span" face="Consolas"><!--StartFragment--><br style="color: rgb(0, 0, 0); font-size: 14px; font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; "></font></span></div><blockquote class="webkit-indent-blockquote" style="margin: 0 0 0 40px; border: none; padding: 0px;"><blockquote class="webkit-indent-blockquote" style="margin: 0 0 0 40px; border: none; padding: 0px;"><blockquote class="webkit-indent-blockquote" style="margin: 0 0 0 40px; border: none; padding: 0px;"><div><span style="color: rgb(0, 0, 0); font-style: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); display: inline !important; float: none; "><span style="color: rgb(0, 0, 0); font-style: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(221, 237, 251); display: inline !important; float: none; "><b><font class="Apple-style-span" face="Consolas">1.启用 rewrite</font></b></span></span></div></blockquote></blockquote><blockquote class="webkit-indent-blockquote" style="margin: 0 0 0 40px; border: none; padding: 0px;"><blockquote class="webkit-indent-blockquote" style="margin: 0 0 0 40px; border: none; padding: 0px;"><div><span style="color: rgb(0, 0, 0); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); display: inline !important; float: none; "><span style="color: rgb(0, 0, 0); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(221, 237, 251); display: inline !important; float: none; "><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; &nbsp; &nbsp; # LoadModule rewrite_module modules/mod_rewrite.so 去除前面的 #</font></span></span></div></blockquote></blockquote><blockquote class="webkit-indent-blockquote" style="margin: 0 0 0 40px; border: none; padding: 0px;"><blockquote class="webkit-indent-blockquote" style="margin: 0 0 0 40px; border: none; padding: 0px;"><div><span style="color: rgb(0, 0, 0); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); display: inline !important; float: none; "><font class="Apple-style-span" face="Consolas"><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 5px; padding-right: 0px; padding-bottom: 5px; padding-left: 0px; color: rgb(0, 0, 0); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; "></p></font></span></div></blockquote></blockquote><blockquote class="webkit-indent-blockquote" style="margin: 0 0 0 40px; border: none; padding: 0px;"><blockquote class="webkit-indent-blockquote" style="margin: 0 0 0 40px; border: none; padding: 0px;"><div><span style="color: rgb(0, 0, 0); font-style: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); display: inline !important; float: none; "><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 5px; padding-right: 0px; padding-bottom: 5px; padding-left: 0px; color: rgb(0, 0, 0); font-style: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; "><b><font class="Apple-style-span" face="Consolas">2.启用 .htaccess</font></b></p></span></div></blockquote></blockquote><blockquote class="webkit-indent-blockquote" style="margin: 0 0 0 40px; border: none; padding: 0px;"><blockquote class="webkit-indent-blockquote" style="margin: 0 0 0 40px; border: none; padding: 0px;"><div><span style="color: rgb(0, 0, 0); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); display: inline !important; float: none; "><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 5px; padding-right: 0px; padding-bottom: 5px; padding-left: 0px; color: rgb(0, 0, 0); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; "><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; 在虚拟机配置项中</font></p></span></div></blockquote></blockquote><blockquote class="webkit-indent-blockquote" style="margin: 0 0 0 40px; border: none; padding: 0px;"><blockquote class="webkit-indent-blockquote" style="margin: 0 0 0 40px; border: none; padding: 0px;"><div><span style="color: rgb(0, 0, 0); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); display: inline !important; float: none; "><p style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 0px; padding-top: 5px; padding-right: 0px; padding-bottom: 5px; padding-left: 0px; color: rgb(0, 0, 0); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; "><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; &nbsp; &nbsp; AllowOverride None&nbsp;&nbsp;&nbsp; 修改为： AllowOverride All</font></p></span></div></blockquote></blockquote></blockquote><div><span style="color: rgb(0, 0, 0); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); display: inline !important; float: none; "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div style="text-align: left;"><b><font class="Apple-style-span" face="Consolas">目录级的 .htaccess 方式</font></b></div><div style="text-align: left;"><font class="Apple-style-span" face="Consolas"><br></font></div><div style="text-align: left;"><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;在网站的根目录下建一个.htaccess文件</font></div><div style="text-align: left;"><font class="Apple-style-span" face="Consolas"><br></font></div><blockquote class="webkit-indent-blockquote" style="margin: 0 0 0 40px; border: none; padding: 0px;"><blockquote class="webkit-indent-blockquote" style="margin: 0 0 0 40px; border: none; padding: 0px;"><blockquote class="webkit-indent-blockquote" style="margin: 0 0 0 40px; border: none; padding: 0px;"><div style="text-align: left;"><span style="color: rgb(0, 0, 0); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(221, 237, 251); display: inline !important; float: none; "><font class="Apple-style-span" face="Consolas">RewriteEngine on &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // 启动rewrite引擎</font></span></div></blockquote></blockquote><blockquote class="webkit-indent-blockquote" style="margin: 0 0 0 40px; border: none; padding: 0px;"><blockquote class="webkit-indent-blockquote" style="margin: 0 0 0 40px; border: none; padding: 0px;"><div style="text-align: left;"><span style="color: rgb(0, 0, 0); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(221, 237, 251); display: inline !important; float: none; "><font class="Apple-style-span" face="Consolas">RewriteRule ^/index([0-9]*).html$ /index.php?id=$1&nbsp;&nbsp; // “([0-9]*)” 代表范围 用(.*)代表所有，下同。</font></span></div></blockquote></blockquote><blockquote class="webkit-indent-blockquote" style="margin: 0 0 0 40px; border: none; padding: 0px;"><blockquote class="webkit-indent-blockquote" style="margin: 0 0 0 40px; border: none; padding: 0px;"><div style="text-align: left;"><span style="color: rgb(0, 0, 0); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(221, 237, 251); display: inline !important; float: none; "><font class="Apple-style-span" face="Consolas">RewriteRule ^/index([0-9]*)/$ /index.php?id=$1 [R]&nbsp;&nbsp; // 虚拟目录</font></span></div></blockquote></blockquote></blockquote><div style="text-align: left;"><font class="Apple-style-span" face="Consolas"><br></font></div><div style="text-align: left;"><font class="Apple-style-span" face="Consolas"><br></font></div><div><span style="color: rgb(0, 0, 0); font-style: normal; font-weight: normal; letter-spacing: normal; orphans: 2; text-align: left; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; background-color: rgb(255, 255, 255); display: inline !important; float: none; "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div style="text-align: left;"><font class="Apple-style-span" face="Consolas">[Ref 1]：&nbsp;<a href="http://www.jb51.net/article/47889.htm">Apache伪静态Rewrite详解</a></font></div><div style="text-align: left;"><font class="Apple-style-span" face="Consolas"><br></font></div><div style="text-align: left;"><font class="Apple-style-span" face="Consolas"><br></font></div><div style="text-align: left;"><font class="Apple-style-span" face="Consolas"><br></font></div><div style="text-align: left;"><font class="Apple-style-span" face="Consolas"><br></font></div><div style="text-align: left;"><font class="Apple-style-span" face="Consolas"><br></font></div><div style="text-align: left;"><font class="Apple-style-span" face="Consolas"><br></font></div><div style="text-align: left;"><font class="Apple-style-span" face="Consolas"><br></font></div><div style="text-align: left;"><font class="Apple-style-span" face="Consolas"><br></font></div><div style="text-align: left;"><font class="Apple-style-span" face="Consolas"><br></font></div><div style="text-align: left;"><font class="Apple-style-span" face="Consolas"><br></font></div><div style="text-align: left;"><font class="Apple-style-span" face="Consolas"><br></font></div><div style="text-align: left;"><font class="Apple-style-span" face="Consolas"><br></font></div><div style="text-align: left;"><font class="Apple-style-span" face="Consolas"><br></font></div><div style="text-align: left;"><font class="Apple-style-span" face="Consolas"><br></font></div><div style="text-align: left;"><font class="Apple-style-span" face="Consolas"><br></font></div><div style="text-align: left;"><font class="Apple-style-span" face="Consolas"><br></font></div><div style="text-align: left;"><font class="Apple-style-span" face="Consolas"><br></font></div><div style="text-align: left;"><font class="Apple-style-span" face="Consolas"><br></font></div><div style="text-align: left;"><font class="Apple-style-span" face="Consolas"><br></font></div><div style="text-align: left;"><font class="Apple-style-span" face="Consolas"><br></font></div><div style="text-align: left;"><font class="Apple-style-span" face="Consolas"><br></font></div><div style="text-align: left;"><font class="Apple-style-span" face="Consolas"><br></font></div><div style="text-align: left;"><br></div><script type="text/javascript" language="javascript" src="jquery.js"></script><script type="text/javascript" language="javascript" src="itemlink.js"></script></body></html>