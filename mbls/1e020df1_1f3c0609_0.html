<html><head></head>
<body>

<div><br></div><div><div><span class="Apple-style-span" style="font-family: Consolas; "><div><font class="Apple-style-span" face="Consolas"><br class="Apple-interchange-newline"><b>HTML5 事件</b></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; 有三个页面级的事件在 HTML5 规范中被引入</font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div></span></div><blockquote class="webkit-indent-blockquote" style="margin-top: 0px; margin-right: 0px; margin-bottom: 0px; margin-left: 40px; border-top-style: none; border-right-style: none; border-bottom-style: none; border-left-style: none; border-width: initial; border-color: initial; padding-top: 0px; padding-right: 0px; padding-bottom: 0px; padding-left: 0px; "><div><span class="Apple-style-span" style="font-family: Consolas; "><div><font class="Apple-style-span" face="Consolas"><table width="825.5648563200001" height="60" border="1" cellspacing="0px" cellpadding="5px" style="border-collapse: collapse; "><tbody><tr><td align="left">事件</td><td align="left">触发</td></tr><tr><td align="left"><font class="Apple-style-span" color="#ff00ff">DOMContentLoaded</font></td><td align="left">在 DOM 树形成后触发（图片，css，js脚本可能还在加载中), 早于 load 事件<br><br><font class="Apple-style-span" color="#0000ff">可被附加到 window 或 document 对象</font></td></tr><tr><td align="left"><font class="Apple-style-span" color="#ff00ff">hashchange</font></td><td align="left">当 URL 的 hash 值变化时（不会造成整个窗口刷新）触发。<br><br>hash 值通常在链接中用来指定页面中的不同部分（也被称为锚点），在使用 AJAX 加载的页面内容中也会被使用<br><br>在&nbsp;<font class="Apple-style-span" color="#0000ff">window 对象上触发</font>，触发后，event 对象会通过&nbsp;<font class="Apple-style-span" color="#ff0000"><b>oldURL</b></font>&nbsp;和&nbsp;<font class="Apple-style-span" color="#ff0000"><b>newURL</b></font>&nbsp;属性来保存 hashchange 发生之前和之后的 url</td></tr><tr><td align="left"><font class="Apple-style-span" color="#ff00ff">beforeunload</font></td><td align="left">当页面卸载之前，在&nbsp;<font class="Apple-style-span" color="#0000ff">window 对象上触发</font><br><br>可在浏览器弹出的对话框中加一段提示信息（无法控制圣诞框中默认的那部分文字，也无法控制用户能够单击哪些按钮）</td></tr></tbody></table></font></div></span></div></blockquote><div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><div><b>注意</b></div><div><br></div><div>&nbsp; &nbsp; 1. 如果你没有在 &lt;body&gt; 元素上指定 onbeforeunload 事件，则需要在 window 对象上添加事件，并使用&nbsp;<font class="Apple-style-span" color="#ff0000"><b>returnValue 属性</b></font>创建自定义信息(查看以下语法实例)。<font class="Apple-style-span" color="#0000ff">(经测试，chrome 和 firefox 均不会显示自定义信息, Notus, 2017-4-25)</font></div><div><br></div><div>&nbsp; &nbsp; 2.&nbsp;<font class="Apple-style-span" color="#0000ff"><b>在 Firefox 浏览器中，只显示默认提醒信息</b></font>（不显示自定义信息）。[1]</div></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><br></div><div style="font-family: Consolas; "><br></div><div style="font-family: Consolas; "><br></div><div style="font-family: Consolas; "><b>References</b></div><div style="font-family: Consolas; "><br></div><div style="font-family: Consolas; ">&nbsp; &nbsp; [1]&nbsp;onbeforeunload 事件 &nbsp;<a href="http://www.runoob.com/jsref/event-onbeforeunload.html">http://www.runoob.com/jsref/event-onbeforeunload.html</a></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><br></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div></div></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><div style="font-family: Consolas; "><font class="Apple-style-span" face="Consolas"><br></font></div><script type="text/javascript" language="javascript" src="jquery.js"></script><script type="text/javascript" language="javascript" src="itemlink.js"></script></body></html>