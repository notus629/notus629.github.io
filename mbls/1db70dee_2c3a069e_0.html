<html><head></head>
<body>

<div><br></div><div><font class="Apple-style-span" face="Consolas" size="4"><b>数据库抽象类：MDB2</b></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; &nbsp; &nbsp; 提供 PEAR MDB2 抽象层，是PEAR所有组件中最广泛使用的组件之一</font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" size="4" face="Consolas"><b>基本步骤</b></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; &nbsp; &nbsp; require_once( '<font class="Apple-style-span" color="#0000ff">MDB2.php</font>');</font></div><div><span class="Apple-style-span" style="font-family: Consolas; "><br></span></div><div><span class="Apple-style-span" style="font-family: Consolas; ">&nbsp; &nbsp; &nbsp; &nbsp; $dsn = "mysql://user_name: password @ host_name : port_no/db_name"; &nbsp; &nbsp; &nbsp;// DSN，通用连接字符串</span></div><div><span class="Apple-style-span" style="font-family: Consolas; ">&nbsp; &nbsp; &nbsp; &nbsp; $db = MDB2::<font class="Apple-style-span" color="#ff0000"><b>connect</b></font>($dsn);</span></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; &nbsp; &nbsp; if (MDB2::<font class="Apple-style-span" color="#ff0000"><b>isError</b></font>($db) {&nbsp;</font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;echo $db-&gt;<b><font class="Apple-style-span" color="#ff0000">getMessage</font></b>();</font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ...</font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; &nbsp; &nbsp; }</font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;$result = $db-&gt;<font class="Apple-style-span" color="#ff0000"><b>query</b></font>($query); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// 执行一个查询</font></div><div><span class="Apple-style-span" style="font-family: Consolas; ">&nbsp; &nbsp; &nbsp; &nbsp; $num_results = $result-&gt;<b><font class="Apple-style-span" color="#ff0000">numRows</font></b>(); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; // 检查返回的记录行数</span></div><div><span class="Apple-style-span" style="font-family: Consolas; ">&nbsp; &nbsp; &nbsp; &nbsp; $row = $result-&gt;<b><font class="Apple-style-span" color="#ff0000">fetchRow</font></b>(DB_FETCHMODE_ASSOC); &nbsp;// 以MDB2_FETCHMODE_ASSOC格式（相关数组）提取结果集中的一行</span></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; &nbsp; &nbsp; $db-&gt;<b><font class="Apple-style-span" color="#ff0000">disconnect</font></b>(); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //关闭数据库连接</font></div><div><font class="Apple-style-span" face="Tahoma"><br></font></div><div><font class="Apple-style-span" face="Tahoma"><br></font></div><div><font class="Apple-style-span" face="Tahoma"><br></font></div><div><font class="Apple-style-span" face="Tahoma"><br></font></div><div><font class="Apple-style-span" face="Tahoma"><br></font></div><div><font class="Apple-style-span" face="Tahoma"><br></font></div><div><font class="Apple-style-span" face="Tahoma"><br></font></div><div><font class="Apple-style-span" face="Tahoma"><br></font></div><div><font class="Apple-style-span" face="Tahoma"><br></font></div><div><font class="Apple-style-span" face="Tahoma"><br></font></div><div><font class="Apple-style-span" face="Tahoma"><br></font></div><div><font class="Apple-style-span" face="Tahoma"><br></font></div><div><font class="Apple-style-span" face="Tahoma"><br></font></div><div><font class="Apple-style-span" face="Tahoma"><br></font></div><div><font class="Apple-style-span" face="Tahoma"><br></font></div><script type="text/javascript" language="javascript" src="jquery.js"></script><script type="text/javascript" language="javascript" src="itemlink.js"></script></body></html>