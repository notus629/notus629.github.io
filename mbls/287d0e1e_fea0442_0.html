<html><head></head>
<body>

<div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><div><div><b>编码</b></div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><br></span></div></span></div></span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">&nbsp; &nbsp; <font class="Apple-style-span" color="#808080">// 设定当前脚本的编码格式，如</font> <font class="Apple-style-span" color="#808000">declare(encoding='UTF-8');</font></span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">&nbsp; &nbsp; <b><font class="Apple-style-span" color="#ff0000">declare</font></b>(encoding='ISO-8859-1'); &nbsp;&nbsp;</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">&nbsp;</span></div></span></font><span class="Apple-style-span" style="color: rgb(128, 128, 128); font-family: Consolas; background-color: rgb(255, 255, 255); ">&nbsp; &nbsp; // Strip HTML and PHP tags （and NULL bytes） from a string</span></div><div><font class="Apple-style-span" color="#808080" face="Consolas">&nbsp; &nbsp; // $allowable_tags to specify tags which should not be stripped.-&nbsp;</font></div><div><font class="Apple-style-span" color="#808080" face="Consolas">&nbsp; &nbsp; // - 即允许留下来而不去除的，但 PHP tags 和 HTML 注释一定会被去掉</font></div><div><font class="Apple-style-span" color="#808080" face="Consolas">&nbsp; &nbsp; // - 举例:'&lt;p&gt;&lt;br&gt;'， 自闭合标签被忽略，即不能是'&lt;br/&gt;'<br></font><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><div><div>&nbsp; &nbsp;&nbsp;string <font class="Apple-style-span" color="#ff0000"><b>strip_tags</b></font> ( string $str [, string $allowable_tags ] )&nbsp;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div><div><br></div></div></span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">&nbsp; &nbsp; <font class="Apple-style-span" color="#808080">// magic_quotes_gpc(自动转义)关闭时 0，否则为 1。PHP5.4.0 起始终返回 FALSE</font></span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><div><div>&nbsp; &nbsp; <b><font class="Apple-style-span" color="#ff0000">get_magic_quotes_gpc</font></b>(void); &nbsp; &nbsp; &nbsp; &nbsp;</div></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><div><br></div></span></div></span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">&nbsp; &nbsp; <font class="Apple-style-span" color="#808080">//&nbsp;为了数据库查询语句等的需要在某些字符</font></span><font class="Apple-style-span" color="#808080"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">(', ", NULL 字符）</span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">前加上了反斜线</span></font></span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><font class="Apple-style-span" color="#ff0000"><b>&nbsp; &nbsp; addslashes</b></font>($str) &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></div></span></div></span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">&nbsp; &nbsp;&nbsp;<font class="Apple-style-span" color="#808080">// 反引用一个引用字符串，addslashed 的反动作</font></span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "></span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">&nbsp;</span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><font class="Apple-style-span" color="#ff0000"><b>&nbsp; &nbsp; stripslashes</b></font>($str); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">&nbsp; &nbsp; &nbsp;&nbsp;</span></div></span></div></span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">&nbsp; &nbsp; <font class="Apple-style-span" color="#808080">// 把对 HTML 中的特殊意义字符转换成 HTML entities (如 &amp; 转为 &amp;amp;)</font></span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "></span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">&nbsp; &nbsp; &nbsp; &nbsp;</span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><font class="Apple-style-span" color="#ff6600">&nbsp; &nbsp; </font><font class="Apple-style-span" color="#ff0000"><b>htmlspecialchars</b></font>(...); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></div><div>&nbsp; &nbsp; <font class="Apple-style-span" color="#ff0000"><b>htmlspecialchars_decode</b></font>(...); &nbsp; &nbsp; &nbsp;<font class="Apple-style-span" color="#808080">// 转换回来</font></div></span></div></span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><br></span></div>&nbsp; &nbsp; <font class="Apple-style-span" color="#808080">// 将替换所有由有名称实体所表示的字符串，而 htmlspecialchars 只替换 &amp;, &lt;, &gt;</font></span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">&nbsp; &nbsp; &nbsp;&nbsp;</span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><div>&nbsp; &nbsp; <font class="Apple-style-span" color="#ff0000"><b>htmlentities</b></font>(...);&nbsp;</div><div>&nbsp; &nbsp; <font class="Apple-style-span" color="#808080">//&nbsp;Convert all HTML entities to their applicable character</font>s</div><div>&nbsp; &nbsp; <font class="Apple-style-span" color="#ff0000"><b>html_entity_decode</b></font>(); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</div><div>&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</div><div>&nbsp; &nbsp; <font class="Apple-style-span" color="#ff0000"><b>escapeshellarg</b></font>(...); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <font class="Apple-style-span" color="#999999">// 整理任何要传递给 shell 命令的参数</font></div></span></div></span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><br></span></div>&nbsp; &nbsp; <font class="Apple-style-span" color="#808080">// 在 URL 中将所有非字母数字字符(除-_.)替换成百分号（%）跟两位十六进制数，空格变为+</font></span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "></span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><font class="Apple-style-span" color="#ff0000"><b>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</b></font></span></font></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><font class="Apple-style-span" face="Consolas"><font class="Apple-style-span" color="#ff0000"><b>&nbsp; &nbsp; urlencode</b></font>(...); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></span></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><font class="Apple-style-span" color="#ff0000"><b>&nbsp; &nbsp; urldecode</b></font>(...);&nbsp;</span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">&nbsp; &nbsp;&nbsp;</span></div></span></div></span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">&nbsp; &nbsp; </span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);"><font class="Apple-style-span" color="#808080">// 同上，除了上面将空格处理成"+", 而此函数将空格处理成"%20",(~也不转换)[1]</font></span></font></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);"><font class="Apple-style-span" color="#808080">&nbsp; &nbsp; // 即除字母数字字符和 -_.~ 这个 4 字符外的所有字符转换成 %XX 形式，</font></span></font></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255);"><font class="Apple-style-span" color="#808080">&nbsp; &nbsp; // - XX 为两位 16 进制数 [2]</font></span><br></font><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); ">&nbsp; &nbsp; <font class="Apple-style-span" color="#ff0000"><b>ra</b></font></span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><font class="Apple-style-span" color="#ff0000"><b>wurlencode</b></font>(...); &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</span></font></div></span></div></span><span class="Apple-style-span" style="font-family: Consolas; background-color: rgb(255, 255, 255); ">&nbsp; &nbsp;&nbsp;<b style="color: rgb(255, 0, 0); ">rawurldecode</b>(...);</span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp;&nbsp;</font></span></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div></span></div></span><span class="Apple-style-span" style="font-family: Consolas; background-color: rgb(255, 255, 255); "><b>References</b></span><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; [1]&nbsp;<a href="http://blog.csdn.net/amonest/article/details/6431183">http://blog.csdn.net/amonest/article/details/6431183</a></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; [2]&nbsp;<a href="http://php.net/manual/en/function.rawurlencode.php">http://php.net/manual/en/function.rawurlencode.php</a></font></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span class="Apple-style-span" style="background-color: rgb(255, 255, 255); "><font class="Apple-style-span" face="Consolas"><br></font></span></div><div><span class="Apple-style-span" style="font-family: Consolas; background-color: rgb(255, 255, 255); "><br></span></div></span></div></span></div><script type="text/javascript" language="javascript" src="jquery.js"></script><script type="text/javascript" language="javascript" src="itemlink.js"></script></body></html>