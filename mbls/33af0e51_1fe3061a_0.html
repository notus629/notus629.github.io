<html><head></head>
<body>

<div><br></div><div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><b>预处理</b></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><font class="Apple-style-span" color="#ff00ff">&nbsp; &nbsp; $statement = $db-&gt;</font><b><font class="Apple-style-span" color="#ff0000">prepare</font></b><font class="Apple-style-span" color="#ff00ff">( "SELECT * FROM books"); &nbsp; &nbsp; &nbsp; &nbsp;</font></font></div><div><font class="Apple-style-span" face="Consolas"><font class="Apple-style-span" color="#ff00ff">&nbsp; &nbsp; $statement-&gt;</font><b><font class="Apple-style-span" color="#ff0000">execute</font></b><font class="Apple-style-span" color="#ff00ff">();</font></font></div><div><font class="Apple-style-span" face="Consolas" color="#ff00ff"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; <font class="Apple-style-span" color="#666699">// 每次取一行</font></font></div><div><font class="Apple-style-span" face="Consolas"><font class="Apple-style-span" color="#ff00ff">&nbsp; &nbsp; while ( $row = $statement-&gt;</font><b><font class="Apple-style-span" color="#ff0000">fetch</font></b><font class="Apple-style-span" color="#ff00ff">() ) { &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></font></div><div><font class="Apple-style-span" face="Consolas" color="#ff00ff">&nbsp; &nbsp; &nbsp; &nbsp; print_r($row);</font></div><div><font class="Apple-style-span" face="Consolas" color="#ff00ff">&nbsp; &nbsp; &nbsp; &nbsp; ...</font></div><div><font class="Apple-style-span" face="Consolas" color="#ff00ff">&nbsp; &nbsp; }</font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; <font class="Apple-style-span" color="#666699">// 通过赋值为 null 来</font><font class="Apple-style-span" color="#0000ff">释放结果集对</font><font class="Apple-style-span" color="#666699">象</font></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; <font class="Apple-style-span" color="#ff00ff">$statement = null; &nbsp;</font> &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><b><font class="Apple-style-span" color="#993400" face="Consolas">使用 :var_name 占位符&nbsp;</font></b></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; <font class="Apple-style-span" color="#666699">// :authorid 为占位符，可以是自定义的任何名称</font></font></div><div><font class="Apple-style-span" face="Consolas"><font class="Apple-style-span" color="#ff00ff">&nbsp; &nbsp; $query = " INSERT &nbsp;INTO &nbsp;books (authorid, title, ISBN, pub_year) &nbsp;VALUES (</font><b><font class="Apple-style-span" color="#0000ff">:authorid</font></b><font class="Apple-style-span" color="#ff00ff">,&nbsp;</font><b><font class="Apple-style-span" color="#0000ff">:title</font></b><font class="Apple-style-span" color="#ff00ff">,&nbsp;</font><b><font class="Apple-style-span" color="#0000ff">:ISBN</font></b><font class="Apple-style-span" color="#ff00ff">,&nbsp;</font><b><font class="Apple-style-span" color="#0000ff">:pub_year</font></b><font class="Apple-style-span" color="#ff00ff">) ";</font></font></div><div><font class="Apple-style-span" face="Consolas" color="#ff00ff">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp;</font></div><div><font class="Apple-style-span" face="Consolas" color="#ff00ff"><br></font></div><div><font class="Apple-style-span" face="Consolas" color="#ff00ff">&nbsp; &nbsp; $statement = $db-&gt;</font><font class="Apple-style-span" face="Consolas" color="#ff0000"><b>prepare</b></font><font class="Apple-style-span" face="Consolas" color="#ff00ff">($query);</font></div><div><font class="Apple-style-span" face="Consolas" color="#ff00ff"><br></font></div><div><font class="Apple-style-span" face="Consolas" color="#ff00ff">&nbsp; &nbsp; $statement-&gt;</font><font class="Apple-style-span" face="Consolas" color="#ff0000"><b>execute</b></font><font class="Apple-style-span" face="Consolas" color="#ff00ff">( array(</font></div><div><font class="Apple-style-span" face="Consolas" color="#ff00ff">&nbsp; &nbsp; &nbsp; &nbsp; 'authorid' =&gt; 4,&nbsp;</font></div><div><font class="Apple-style-span" face="Consolas" color="#ff00ff">&nbsp; &nbsp; &nbsp; &nbsp; 'title' =&gt; 'Foundation',&nbsp;</font></div><div><font class="Apple-style-span" face="Consolas" color="#ff00ff">&nbsp; &nbsp; &nbsp; &nbsp; 'ISBN' =&gt; '0-553-8-371-9",&nbsp;</font></div><div><font class="Apple-style-span" face="Consolas" color="#ff00ff">&nbsp; &nbsp; &nbsp; &nbsp; 'pub_year' =&gt; 1951)</font></div><div><font class="Apple-style-span" face="Consolas" color="#ff00ff">&nbsp; &nbsp; );</font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><b>使用&nbsp;<span style="color: rgb(153, 52, 0); ">?占位符</span></b></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><font class="Apple-style-span" color="#ff00ff">&nbsp; &nbsp; $query = "INSERT &nbsp;INTO &nbsp;books (authorid, title, ISBN, pub_year) VALUES (</font><b><font class="Apple-style-span" color="#0000ff">?, ?, ?, ?</font></b><font class="Apple-style-span" color="#ff00ff">) ";</font></font></div><div><font class="Apple-style-span" face="Consolas"><font class="Apple-style-span" color="#ff00ff"><br></font></font></div><div><font class="Apple-style-span" face="Consolas"><font class="Apple-style-span" color="#ff00ff">&nbsp; &nbsp; $statement = $db-&gt;prepare($query);</font></font></div><div><font class="Apple-style-span" face="Consolas" color="#ff00ff"><br></font></div><div><font class="Apple-style-span" face="Consolas" color="#ff00ff">&nbsp; &nbsp; $statement-&gt;execute( array(4, "Foundation", "0-553-80371-9", 1951) );</font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><script type="text/javascript" language="javascript" src="jquery.js"></script><script type="text/javascript" language="javascript" src="itemlink.js"></script></body></html>