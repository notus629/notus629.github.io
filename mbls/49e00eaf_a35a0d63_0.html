<html><head></head>
<body>

<div><br></div><div><div><div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><b>git rebase -i - 压缩历史</b></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; 技巧</font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; &nbsp; &nbsp; 若发现已提交的内容有些小错误，可以提交一个新修改，然后将这个修改合并到前一个提交之中，<font class="Apple-style-span" color="#0000ff"><b>压缩成一个历史记录</b></font>&nbsp; &nbsp;</font></div></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas">&nbsp; &nbsp; &nbsp; &nbsp; 在这样的对代码进行修改的情况下，<font class="Apple-style-span" color="#0000ff"><b>通常应该新创建一个新分支</b></font>，修改完成后再合并到主分支 master 中。</font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas" color="#666699">&nbsp; &nbsp; ## 如, 对 README.md 进行了小修改</font></div><div><font class="Apple-style-span" face="Consolas"><font class="Apple-style-span" color="#666699">&nbsp; &nbsp; ## 使用 </font><b><font class="Apple-style-span" color="#ff0000">git commit -am</font></b><font class="Apple-style-span" color="#666699"> 一次进行 git add &amp; commit 两步操作</font></font></div><div><font class="Apple-style-span" face="Consolas" color="#ff00ff">&nbsp; &nbsp; $ git commit -am&nbsp;</font><span class="Apple-style-span" style="font-family: Consolas; "><font class="Apple-style-span" color="#ff00ff">"a little fix"</font>&nbsp;</span></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas" color="#666699">&nbsp; &nbsp; ## 选定当前分支中包含 HEAD （最新提交）在内的两次提交，在历史记录中进行合并</font></div><div><font class="Apple-style-span" face="Consolas" color="#ff00ff">&nbsp; &nbsp; $ git rebase -i HEAD~2</font></div><div><font class="Apple-style-span" face="Consolas" color="#ff00ff"><br></font></div><div><font class="Apple-style-span" face="Consolas" color="#666699">&nbsp; &nbsp; ## 执行后，会在编辑器中打开两个最新历史记录, 内容如下</font></div><div><font class="Apple-style-span" face="Consolas"><span class="Apple-style-span" style="font-family: 'Times New Roman'; "><div><font class="Apple-style-span" face="Consolas"><font class="Apple-style-span" color="#666699">&nbsp; &nbsp; ## 要将 fe749d3 的</font><font class="Apple-style-span" color="#0000ff"><b>历史记录压缩（内容合并，提交信息丢弃）</b></font><font class="Apple-style-span" color="#666699">到 28cfc0a 的记录中,&nbsp;</font></font></div><div><font class="Apple-style-span" face="Consolas"><font class="Apple-style-span" color="#666699">&nbsp; &nbsp; ## 将 fe749d3 前的 </font><b><font class="Apple-style-span" color="#0000ff">pick 改为 fixup</font></b><font class="Apple-style-span" color="#666699"> 即可</font></font></div></span></font></div><div><font class="Apple-style-span" face="Consolas" color="#ff6600"><div>&nbsp; &nbsp; pick 28cfc0a fix-B</div><div>&nbsp; &nbsp;&nbsp;pick fe749d3 little fix</div><div>&nbsp; &nbsp;&nbsp;# Rebase 6082a2d..fe749d3 onto 6082a2d (2 commands)</div><div>&nbsp; &nbsp;&nbsp;#</div><div>&nbsp; &nbsp;&nbsp;# Commands:</div><div>&nbsp; &nbsp;&nbsp;# p, pick = use commit</div><div>&nbsp; &nbsp;&nbsp;# r, reword = use commit, but edit the commit message</div><div>&nbsp; &nbsp;&nbsp;# e, edit = use commit, but stop for amending</div><div>&nbsp; &nbsp;&nbsp;# s, squash = use commit, but meld into previous commit</div><div>&nbsp; &nbsp;&nbsp;# f, fixup = like "squash", but discard this commit's log message</div><div>&nbsp; &nbsp;&nbsp;# x, exec = run command (the rest of the line) using shell</div><div>&nbsp; &nbsp;&nbsp;# d, drop = remove commit</div><div>&nbsp; &nbsp;&nbsp;#</div><div>&nbsp; &nbsp;&nbsp;# These lines can be re-ordered; they are executed from top to bottom.</div><div>&nbsp; &nbsp;&nbsp;#</div><div>&nbsp; &nbsp;&nbsp;# If you remove a line here THAT COMMIT WILL BE LOST.</div><div>&nbsp; &nbsp;&nbsp;#</div><div>&nbsp; &nbsp;&nbsp;# However, if you remove everything, the rebase will be aborted.</div><div>&nbsp; &nbsp;&nbsp;#</div><div>&nbsp; &nbsp;&nbsp;# Note that empty commits are commented out</div></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div><div><font class="Apple-style-span" face="Consolas"><br></font></div></div><script type="text/javascript" language="javascript" src="jquery.js"></script><script type="text/javascript" language="javascript" src="itemlink.js"></script></body></html>